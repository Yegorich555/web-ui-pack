/* stylelint-disable no-descending-specificity */
$padding: 0.7em; //todo css-var
$activeColor: #1976d2; //todo css-var
$background: white; //todo css-var

.uiBaseControl {
  margin-top: 1em;
  display: block;
  //text of label
  > *:first-child {
    display: block;
    position: absolute;
    z-index: 1;
    margin: 0 ($padding - 0.2em);
    padding: 0 0.2em;
    transform: translateY(-$padding + 0.2em);
    color: $activeColor;
    background: $background;
    font: inherit;
    // font-size: smaller;
    transition: transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms;
  }
  //asterisk-mark
  &[data-required="true"] > *:first-child {
    padding-right: 1em;
    &::after {
      content: "*";
      font-size: larger;
      font-weight: bolder;
      position: absolute;
      padding-left: 0.2em;
    }
  }

  //wrapper for input
  > *:nth-child(2) {
    display: block;
    position: relative;
    border: 1px solid #bdbdbd; //todo css-var
    border-radius: 3px; //todo css-var
    padding: 1px; //fix for border-scaling
  }
  &:hover > *:nth-child(2) {
    box-shadow: 0 0 4px 0 $activeColor; //todo css-var
  }
  input {
    font: inherit;
    padding: $padding;
    border: none;
    width: 100%;
    box-sizing: border-box;
    transition: box-shadow 200ms cubic-bezier(0, 0, 0.2, 1) 0ms;
    background: $background;
  }

  //common properties
  input:not([type="textarea"]),
  [contenteditable="true"] {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  ::placeholder {
    text-overflow: ellipsis;
  }
  input[disabled] {
    cursor: default;
    cursor: not-allowed;
  }
  *:focus {
    transition: box-shadow 200ms cubic-bezier(0, 0, 0.2, 1) 0ms;
    box-shadow: 0 0 3px 2px $activeColor;
    // stylelint-disable-next-line plugin/no-unsupported-browser-features
    outline: none;
  }
  &[data-invalid="true"] *:focus {
    box-shadow: 0 0 3px 2px red;
  }
}
